<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TÃ¼rkiye Ezan Vakitleri</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 2.2rem;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
        }

        .controls {
            margin-bottom: 30px;
        }

        select {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s;
        }

        select:focus {
            outline: none;
            border-color: #667eea;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
            font-size: 1.1rem;
        }

        .error {
            text-align: center;
            padding: 40px;
            color: #dc3545;
            font-size: 1.1rem;
        }

        .prayer-times {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .prayer-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
            text-align: center;
            transition: transform 0.3s;
        }

        .prayer-card:hover {
            transform: translateY(-2px);
        }

        .prayer-card.current {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            transform: scale(1.05);
        }

        .prayer-name {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #333;
        }

        .prayer-card.current .prayer-name {
            color: white;
        }

        .prayer-time {
            font-size: 1.2rem;
            font-weight: bold;
            color: #667eea;
        }

        .prayer-card.current .prayer-time {
            color: white;
        }

        .city-info {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .city-name {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .city-coordinates {
            font-size: 1rem;
            opacity: 0.9;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .prayer-times {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .prayer-times {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŒ™ TÃ¼rkiye Ezan Vakitleri</h1>
        <div class="subtitle">81 Ä°l Ä°Ã§in DoÄŸru Vakitler</div>
        
        <div class="controls">
            <select id="citySelect">
                <option value="">Ä°l seÃ§in...</option>
            </select>
        </div>

        <div id="cityInfo" class="city-info" style="display: none;">
            <div class="city-name" id="selectedCityName">Ä°stanbul</div>
            <div class="city-coordinates" id="cityCoordinates">Enlem: 41.0082, Boylam: 28.9784</div>
        </div>

        <div id="prayerTimes" class="prayer-times">
            <div class="loading">LÃ¼tfen bir il seÃ§in</div>
        </div>
    </div>

    <script>
        // TÃ¼rkiye'nin 81 ili ve koordinatlarÄ±
        const turkiyeIller = {
            'adana': { lat: 37.0000, lon: 35.3213, plaka: '01', bolge: 'Akdeniz' },
            'adiyaman': { lat: 37.7648, lon: 38.2786, plaka: '02', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'afyonkarahisar': { lat: 38.7638, lon: 30.5403, plaka: '03', bolge: 'Ege' },
            'agri': { lat: 39.7191, lon: 43.0503, plaka: '04', bolge: 'DoÄŸu Anadolu' },
            'aksaray': { lat: 38.3687, lon: 34.0370, plaka: '68', bolge: 'Ä°Ã§ Anadolu' },
            'amasya': { lat: 40.6499, lon: 35.8353, plaka: '05', bolge: 'Karadeniz' },
            'ankara': { lat: 39.9334, lon: 32.8597, plaka: '06', bolge: 'Ä°Ã§ Anadolu' },
            'antalya': { lat: 36.8969, lon: 30.7133, plaka: '07', bolge: 'Akdeniz' },
            'ardahan': { lat: 41.1105, lon: 42.7022, plaka: '75', bolge: 'DoÄŸu Anadolu' },
            'artvin': { lat: 41.1828, lon: 41.8183, plaka: '08', bolge: 'Karadeniz' },
            'aydin': { lat: 37.8560, lon: 27.8416, plaka: '09', bolge: 'Ege' },
            'balikesir': { lat: 39.6484, lon: 27.8826, plaka: '10', bolge: 'Ege' },
            'bartin': { lat: 41.5811, lon: 32.4610, plaka: '74', bolge: 'Karadeniz' },
            'batman': { lat: 37.8812, lon: 41.1351, plaka: '72', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'bayburt': { lat: 40.2552, lon: 40.2249, plaka: '69', bolge: 'Karadeniz' },
            'bilecik': { lat: 40.1500, lon: 29.9833, plaka: '11', bolge: 'Marmara' },
            'bingol': { lat: 38.8853, lon: 40.4986, plaka: '12', bolge: 'DoÄŸu Anadolu' },
            'bitlis': { lat: 38.4000, lon: 42.1089, plaka: '13', bolge: 'DoÄŸu Anadolu' },
            'bolu': { lat: 40.7395, lon: 31.6116, plaka: '14', bolge: 'Karadeniz' },
            'burdur': { lat: 37.7269, lon: 30.2889, plaka: '15', bolge: 'Akdeniz' },
            'bursa': { lat: 40.2669, lon: 29.0634, plaka: '16', bolge: 'Marmara' },
            'canakkale': { lat: 40.1553, lon: 26.4142, plaka: '17', bolge: 'Marmara' },
            'cankiri': { lat: 40.6000, lon: 33.6167, plaka: '18', bolge: 'Ä°Ã§ Anadolu' },
            'corum': { lat: 40.5506, lon: 34.9556, plaka: '19', bolge: 'Karadeniz' },
            'denizli': { lat: 37.7765, lon: 29.0864, plaka: '20', bolge: 'Ege' },
            'diyarbakir': { lat: 37.9144, lon: 40.2306, plaka: '21', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'duzce': { lat: 40.8438, lon: 31.1565, plaka: '81', bolge: 'Karadeniz' },
            'edirne': { lat: 41.6667, lon: 26.5667, plaka: '22', bolge: 'Marmara' },
            'elazig': { lat: 38.6810, lon: 39.2264, plaka: '23', bolge: 'DoÄŸu Anadolu' },
            'erzincan': { lat: 39.7500, lon: 39.5000, plaka: '24', bolge: 'DoÄŸu Anadolu' },
            'erzurum': { lat: 39.9000, lon: 41.2700, plaka: '25', bolge: 'DoÄŸu Anadolu' },
            'eskisehir': { lat: 39.7767, lon: 30.5206, plaka: '26', bolge: 'Ä°Ã§ Anadolu' },
            'gaziantep': { lat: 37.0662, lon: 37.3833, plaka: '27', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'giresun': { lat: 40.9128, lon: 38.3895, plaka: '28', bolge: 'Karadeniz' },
            'gumushane': { lat: 40.4600, lon: 39.4800, plaka: '29', bolge: 'Karadeniz' },
            'hakkari': { lat: 37.5833, lon: 43.7333, plaka: '30', bolge: 'DoÄŸu Anadolu' },
            'hatay': { lat: 36.4018, lon: 36.3498, plaka: '31', bolge: 'Akdeniz' },
            'igdir': { lat: 39.9167, lon: 44.0333, plaka: '76', bolge: 'DoÄŸu Anadolu' },
            'isparta': { lat: 37.7667, lon: 30.5500, plaka: '32', bolge: 'Akdeniz' },
            'istanbul': { lat: 41.0082, lon: 28.9784, plaka: '34', bolge: 'Marmara' },
            'izmir': { lat: 38.4237, lon: 27.1428, plaka: '35', bolge: 'Ege' },
            'kahramanmaras': { lat: 37.5833, lon: 36.9333, plaka: '46', bolge: 'Akdeniz' },
            'karabuk': { lat: 41.2000, lon: 32.6333, plaka: '78', bolge: 'Karadeniz' },
            'karaman': { lat: 37.1833, lon: 33.2167, plaka: '70', bolge: 'Ä°Ã§ Anadolu' },
            'kars': { lat: 40.6167, lon: 43.1000, plaka: '36', bolge: 'DoÄŸu Anadolu' },
            'kastamonu': { lat: 41.3767, lon: 33.7767, plaka: '37', bolge: 'Karadeniz' },
            'kayseri': { lat: 38.7333, lon: 35.4833, plaka: '38', bolge: 'Ä°Ã§ Anadolu' },
            'kirikkale': { lat: 39.8468, lon: 33.5153, plaka: '71', bolge: 'Ä°Ã§ Anadolu' },
            'kirklareli': { lat: 41.7333, lon: 27.2167, plaka: '39', bolge: 'Marmara' },
            'kirsehir': { lat: 39.1500, lon: 34.1667, plaka: '40', bolge: 'Ä°Ã§ Anadolu' },
            'kilis': { lat: 36.7167, lon: 37.1167, plaka: '79', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'kocaeli': { lat: 40.7667, lon: 29.9167, plaka: '41', bolge: 'Marmara' },
            'konya': { lat: 37.8667, lon: 32.4833, plaka: '42', bolge: 'Ä°Ã§ Anadolu' },
            'kutahya': { lat: 39.4167, lon: 29.9833, plaka: '43', bolge: 'Ege' },
            'malatya': { lat: 38.3500, lon: 38.3000, plaka: '44', bolge: 'DoÄŸu Anadolu' },
            'manisa': { lat: 38.6333, lon: 27.4167, plaka: '45', bolge: 'Ege' },
            'mardin': { lat: 37.3167, lon: 40.7333, plaka: '47', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'mersin': { lat: 36.8000, lon: 34.6333, plaka: '33', bolge: 'Akdeniz' },
            'mugla': { lat: 37.2167, lon: 28.3667, plaka: '48', bolge: 'Ege' },
            'mus': { lat: 38.7333, lon: 41.4911, plaka: '49', bolge: 'DoÄŸu Anadolu' },
            'nevsehir': { lat: 38.6267, lon: 34.7136, plaka: '50', bolge: 'Ä°Ã§ Anadolu' },
            'nigde': { lat: 37.9667, lon: 34.6833, plaka: '51', bolge: 'Ä°Ã§ Anadolu' },
            'ordu': { lat: 40.9833, lon: 37.8833, plaka: '52', bolge: 'Karadeniz' },
            'osmaniye': { lat: 37.0742, lon: 36.2478, plaka: '80', bolge: 'Akdeniz' },
            'rize': { lat: 41.0201, lon: 40.5234, plaka: '53', bolge: 'Karadeniz' },
            'sakarya': { lat: 40.7833, lon: 30.4000, plaka: '54', bolge: 'Marmara' },
            'samsun': { lat: 41.2867, lon: 36.3300, plaka: '55', bolge: 'Karadeniz' },
            'siirt': { lat: 37.9443, lon: 41.9329, plaka: '56', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'sinop': { lat: 42.0231, lon: 35.1531, plaka: '57', bolge: 'Karadeniz' },
            'sivas': { lat: 39.7500, lon: 37.0167, plaka: '58', bolge: 'Ä°Ã§ Anadolu' },
            'sanliurfa': { lat: 37.1500, lon: 38.8000, plaka: '63', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'sirnak': { lat: 37.5167, lon: 42.4500, plaka: '73', bolge: 'GÃ¼neydoÄŸu Anadolu' },
            'tekirdag': { lat: 40.9833, lon: 27.5167, plaka: '59', bolge: 'Marmara' },
            'tokat': { lat: 40.3167, lon: 36.5500, plaka: '60', bolge: 'Karadeniz' },
            'trabzon': { lat: 41.0015, lon: 39.7178, plaka: '61', bolge: 'Karadeniz' },
            'tunceli': { lat: 39.1071, lon: 39.5500, plaka: '62', bolge: 'DoÄŸu Anadolu' },
            'usak': { lat: 38.6833, lon: 29.4000, plaka: '64', bolge: 'Ege' },
            'van': { lat: 38.4942, lon: 43.3800, plaka: '65', bolge: 'DoÄŸu Anadolu' },
            'yozgat': { lat: 39.8200, lon: 34.8044, plaka: '66', bolge: 'Ä°Ã§ Anadolu' },
            'zonguldak': { lat: 41.4500, lon: 31.7833, plaka: '67', bolge: 'Karadeniz' }
        };

        // Åžehir seÃ§eneklerini yÃ¼kle
        function loadCities() {
            console.log("81 il yÃ¼kleniyor...");
            const citySelect = document.getElementById('citySelect');
            
            // Åžehirleri isme gÃ¶re sÄ±rala
            const sortedCities = Object.keys(turkiyeIller).sort();
            
            sortedCities.forEach(cityKey => {
                const city = turkiyeIller[cityKey];
                const option = document.createElement('option');
                option.value = cityKey;
                option.textContent = `${city.plaka} - ${cityKey.charAt(0).toUpperCase() + cityKey.slice(1)} (${city.bolge})`;
                citySelect.appendChild(option);
            });
            
            console.log("Ä°ller yÃ¼klendi:", citySelect.children.length);
        }

        // Ezan vakitlerini getir
        async function getPrayerTimes(lat, lon) {
            const today = new Date();
            const timestamp = Math.floor(today.getTime() / 1000);
            
            try {
                const response = await fetch(
                    `https://api.aladhan.com/v1/timings/${timestamp}?latitude=${lat}&longitude=${lon}&method=2`
                );
                const data = await response.json();
                return data.data;
            } catch (error) {
                console.error('API hatasÄ±:', error);
                return null;
            }
        }

        // Ezan vakitlerini gÃ¶ster
        async function showPrayerTimes(cityKey) {
            console.log("SeÃ§ilen il:", cityKey);
            
            if (!cityKey) {
                document.getElementById('cityInfo').style.display = 'none';
                document.getElementById('prayerTimes').innerHTML = 
                    '<div class="loading">LÃ¼tfen bir il seÃ§in</div>';
                return;
            }

            const city = turkiyeIller[cityKey];
            if (!city) return;

            // Åžehir bilgisini gÃ¶ster
            document.getElementById('cityInfo').style.display = 'block';
            document.getElementById('selectedCityName').textContent = 
                cityKey.charAt(0).toUpperCase() + cityKey.slice(1);
            document.getElementById('cityCoordinates').textContent = 
                `Plaka: ${city.plaka} â€¢ BÃ¶lge: ${city.bolge} â€¢ Enlem: ${city.lat} â€¢ Boylam: ${city.lon}`;

            document.getElementById('prayerTimes').innerHTML = 
                '<div class="loading">Ezan vakitleri yÃ¼kleniyor...</div>';

            const data = await getPrayerTimes(city.lat, city.lon);
            
            if (!data || !data.timings) {
                document.getElementById('prayerTimes').innerHTML = 
                    '<div class="error">Hata: Ezan vakitleri alÄ±namadÄ±</div>';
                return;
            }

            const prayerNames = {
                'Fajr': 'Ä°msak',
                'Sunrise': 'GÃ¼neÅŸ',
                'Dhuhr': 'Ã–ÄŸle', 
                'Asr': 'Ä°kindi',
                'Maghrib': 'AkÅŸam',
                'Isha': 'YatsÄ±'
            };

            const currentTime = new Date();
            let currentPrayer = '';

            // Åžu anki vakti bul
            const prayers = Object.keys(prayerNames);
            for (let i = prayers.length - 1; i >= 0; i--) {
                const prayerTime = new Date();
                const [hours, minutes] = data.timings[prayers[i]].split(':');
                prayerTime.setHours(parseInt(hours), parseInt(minutes), 0, 0);
                
                if (currentTime >= prayerTime) {
                    currentPrayer = prayers[i];
                    break;
                }
            }

            let html = '';
            Object.keys(prayerNames).forEach(prayer => {
                const isCurrent = prayer === currentPrayer;
                html += `
                    <div class="prayer-card ${isCurrent ? 'current' : ''}">
                        <div class="prayer-name">${prayerNames[prayer]}</div>
                        <div class="prayer-time">${data.timings[prayer]}</div>
                    </div>
                `;
            });

            document.getElementById('prayerTimes').innerHTML = html;
        }

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Sayfa yÃ¼klendi");
            
            loadCities();
            
            // Åžehir deÄŸiÅŸtiÄŸinde  
            document.getElementById('citySelect').addEventListener('change', function() {
                showPrayerTimes(this.value);
            });

            // VarsayÄ±lan olarak Ä°stanbul'u gÃ¶ster
            setTimeout(() => {
                document.getElementById('citySelect').value = 'istanbul';
                showPrayerTimes('istanbul');
            }, 1000);
        });

        // Hata ayÄ±klama
        console.log("TÃ¼rkiye illeri yÃ¼klendi:", Object.keys(turkiyeIller).length);
    </script>
</body>
</html>
