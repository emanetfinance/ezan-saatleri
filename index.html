<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ezan Vakitleri</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            padding: 40px;
            max-width: 500px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
        }

        .city-selector {
            margin-bottom: 30px;
        }

        select {
            width: 100%;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
            background: white;
            cursor: pointer;
        }

        .prayer-times {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .prayer-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .prayer-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .prayer-time {
            font-size: 1.2rem;
            color: #667eea;
            font-weight: bold;
        }

        .current-time {
            background: #667eea;
            color: white;
            transform: scale(1.05);
        }

        .current-time .prayer-name {
            color: white;
        }

        .current-time .prayer-time {
            color: white;
        }

        .date-display {
            color: #666;
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .loading {
            color: #666;
            font-style: italic;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .prayer-times {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ“¿ Ezan Vakitleri</h1>
        
        <div class="date-display" id="dateDisplay"></div>
        
        <div class="city-selector">
            <select id="citySelect">
                <option value="">Åžehir seÃ§in...</option>
                <option value="istanbul">Ä°stanbul</option>
                <option value="ankara">Ankara</option>
                <option value="izmir">Ä°zmir</option>
                <option value="konya">Konya</option>
                <option value="bursa">Bursa</option>
                <option value="antalya">Antalya</option>
            </select>
        </div>

        <div id="prayerTimes" class="prayer-times">
            <div class="loading">LÃ¼tfen bir ÅŸehir seÃ§in...</div>
        </div>
    </div>

    <script>
        // Åžehirlerin koordinatlarÄ± (basit Ã¶rnek veriler)
        const cities = {
            'istanbul': { lat: 41.0082, lon: 28.9784 },
            'ankara': { lat: 39.9334, lon: 32.8597 },
            'izmir': { lat: 38.4237, lon: 27.1428 },
            'konya': { lat: 37.8667, lon: 32.4833 },
            'bursa': { lat: 40.2669, lon: 29.0634 },
            'antalya': { lat: 36.8969, lon: 30.7133 }
        };

        // Ezan vakitleri API'si
        const API_URL = 'https://api.aladhan.com/v1/timings';

        // Tarih gÃ¶sterimi
        function updateDate() {
            const now = new Date();
            const options = { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            };
            document.getElementById('dateDisplay').textContent = 
                now.toLocaleDateString('tr-TR', options);
        }

        // Ezan vakitlerini getir
        async function getPrayerTimes(city) {
            const cityData = cities[city];
            if (!cityData) return null;

            const today = new Date();
            const dateString = `${today.getDate()}-${today.getMonth() + 1}-${today.getFullYear()}`;

            try {
                const response = await fetch(
                    `${API_URL}/${dateString}?latitude=${cityData.lat}&longitude=${cityData.lon}&method=2`
                );
                const data = await response.json();
                return data.data.timings;
            } catch (error) {
                console.error('API hatasÄ±:', error);
                return null;
            }
        }

        // Ezan vakitlerini gÃ¶ster
        async function showPrayerTimes(city) {
            const container = document.getElementById('prayerTimes');
            container.innerHTML = '<div class="loading">Ezan vakitleri yÃ¼kleniyor...</div>';

            const times = await getPrayerTimes(city);
            if (!times) {
                container.innerHTML = '<div class="loading">Hata: Ezan vakitleri alÄ±namadÄ±</div>';
                return;
            }

            const prayerNames = {
                'Fajr': 'Ä°msak',
                'Sunrise': 'GÃ¼neÅŸ',
                'Dhuhr': 'Ã–ÄŸle',
                'Asr': 'Ä°kindi',
                'Maghrib': 'AkÅŸam',
                'Isha': 'YatsÄ±'
            };

            const currentTime = new Date();
            let currentPrayer = '';

            // Åžu anki vakti bul
            const prayers = Object.keys(prayerNames);
            for (let i = prayers.length - 1; i >= 0; i--) {
                const prayerTime = new Date();
                const [hours, minutes] = times[prayers[i]].split(':');
                prayerTime.setHours(parseInt(hours), parseInt(minutes), 0, 0);
                
                if (currentTime >= prayerTime) {
                    currentPrayer = prayers[i];
                    break;
                }
            }

            container.innerHTML = '';
            Object.keys(prayerNames).forEach(prayer => {
                const card = document.createElement('div');
                card.className = `prayer-card ${prayer === currentPrayer ? 'current-time' : ''}`;
                
                card.innerHTML = `
                    <div class="prayer-name">${prayerNames[prayer]}</div>
                    <div class="prayer-time">${times[prayer]}</div>
                `;
                
                container.appendChild(card);
            });
        }

        // Sayfa yÃ¼klendiÄŸinde
        document.addEventListener('DOMContentLoaded', function() {
            updateDate();
            
            // Åžehir seÃ§imi deÄŸiÅŸtiÄŸinde
            document.getElementById('citySelect').addEventListener('change', function() {
                if (this.value) {
                    showPrayerTimes(this.value);
                } else {
                    document.getElementById('prayerTimes').innerHTML = 
                        '<div class="loading">LÃ¼tfen bir ÅŸehir seÃ§in...</div>';
                }
            });

            // Her dakika tarihi gÃ¼ncelle
            setInterval(updateDate, 60000);
        });
    </script>
</body>
</html>
